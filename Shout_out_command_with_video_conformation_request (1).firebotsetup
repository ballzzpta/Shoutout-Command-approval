{"name":"Shout out command with video conformation request","description":"Allows for shoutout based on !so trigger, gives target ability to chose whether or not a clip is played","version":1,"author":"ballzzpta","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldown":{},"effects":{"id":"4667a057-9b4a-47b1-aea2-73592784d4f3","list":[],"queue":"8deee2b0-8b36-11eb-9f2f-1d903ae5c251"},"restrictionData":{"restrictions":[{"id":"0f9df5f0-88c4-11eb-84f2-ab65062f9663","type":"firebot:permissions","mode":"roles","roleIds":["mod","broadcaster"]}],"mode":"all","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}"},"ignoreBot":false,"sortTags":["00339b33-d317-4960-aecd-cfd810770368"],"trigger":"!so","description":"Shout out","subCommands":[{"active":true,"id":"19632111-e062-4397-9f9b-b05d59f5f475","type":"Username","arg":"@\\w+","regex":true,"usage":"@username","fallback":false,"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}"},"effects":{"list":[{"id":"2fb87b40-95d7-11ed-a369-a58982addc0b","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"target":"$target"},"effectList":{"list":[],"id":"2fbb3a60-95d7-11ed-a369-a58982addc0b"},"presetListId":"629c4540-95d3-11ed-a237-4bc45b548f61"}],"id":"ee9127f0-88c4-11eb-84f2-ab65062f9663","queue":"6a10ad90-88b8-11eb-84f2-ab65062f9663"}}],"id":"f62ddb20-88c4-11eb-84f2-ab65062f9663","createdBy":"ballzzpta","createdAt":"2021-03-19T11:08:29-04:00","count":8,"lastEditBy":"ballzzpta","lastEditAt":"2023-01-16T19:57:29-05:00","cooldownMessage":"This command is still on cooldown for: {timeLeft}","aliases":[],"treatQuotedTextAsSingleArg":false},{"active":false,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"ea9f1ab2-3e45-4c30-9513-05b21c335663","list":[{"id":"ba8e5160-7b2c-11ed-a477-51c759d9aaff","type":"firebot:set-user-metadata","active":true,"username":"$user","key":"optIn","data":"true"}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}"},"aliases":[],"sortTags":[],"treatQuotedTextAsSingleArg":false,"trigger":"yes","hidden":true,"id":"ceff2ac0-7b2c-11ed-a477-51c759d9aaff","createdBy":"c_k_y","createdAt":"2022-12-13T14:26:29-07:00","count":13,"type":"custom","lastEditBy":"Imported","lastEditAt":"2023-01-16T19:55:09-05:00","ignoreBot":true,"ignoreStreamer":true}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"autoPlayClip","effects":{"list":[{"id":"5ab378a0-7b1e-11ed-a477-51c759d9aaff","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[hasRan]","rightSideValue":"true"}]},"effectData":{"list":[{"id":"93393a70-7b1e-11ed-a477-51c759d9aaff","type":"firebot:customvariable","active":true,"ttl":1,"name":"hasRan","variableData":"1"},{"id":"0b9321d0-7b2d-11ed-a477-51c759d9aaff","type":"firebot:toggle-command","active":true,"toggleType":"disable","commandType":"custom","commandId":"ceff2ac0-7b2c-11ed-a477-51c759d9aaff"}],"id":"5ab99320-7b1e-11ed-a477-51c759d9aaff"}},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[waitedForClip]","rightSideValue":"4"}]},"effectData":{"list":[{"id":"4523aed0-7b2b-11ed-a477-51c759d9aaff","type":"firebot:customvariable","active":true,"ttl":1,"name":"waitedForClip","variableData":"1"},{"id":"cbcd4130-7b2b-11ed-a477-51c759d9aaff","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"user did not reply in time."},{"id":"1a6ab920-7b2d-11ed-a477-51c759d9aaff","type":"firebot:toggle-command","active":true,"toggleType":"disable","commandType":"custom","commandId":"ceff2ac0-7b2c-11ed-a477-51c759d9aaff"}],"id":"db6c8ac0-7b2a-11ed-a477-51c759d9aaff"}}],"otherwiseEffectData":{"list":[{"id":"6b3e7960-7b2b-11ed-a477-51c759d9aaff","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"does not contain","value":null,"leftSideValue":"$topMetadata[optIn]","rightSideValue":"(none)"}]},"effectData":{"list":[{"id":"8498ccd0-7b2b-11ed-a477-51c759d9aaff","type":"firebot:customvariable","active":true,"ttl":0,"name":"optIn","variableData":"[]"},{"id":"8498ccd1-7b2b-11ed-a477-51c759d9aaff","type":"firebot:loopeffects","active":true,"effectList":{"list":[{"id":"ce4f0e40-7b24-11ed-a477-51c759d9aaff","type":"firebot:customvariable","active":true,"ttl":0,"variableData":"$arrayAdd[$customVariable[optIn], ``{\"user\":\"$topMetadataUser[optIn, $math[$loopCount +1]]\",\"optIn\":$topMetadataUser[optIn, $math[$loopCount +1], null]}``]","name":"optIn"}],"id":"60f40f80-7b24-11ed-a477-51c759d9aaff"},"loopMode":"count","conditionData":{"mode":"exclusive","conditions":[]},"arrayToIterate":"","loopCount":"$math[$arrayLength[$splitText[$topMetadata[optIn],\",\"]]]"},{"id":"8498ccd2-7b2b-11ed-a477-51c759d9aaff","type":"firebot:loopeffects","active":true,"effectList":{"list":[{"id":"fc755690-7b28-11ed-a477-51c759d9aaff","type":"firebot:chat","active":true,"chatter":"Bot","message":"thank you for allowing a clip to play $customVariable[optIn, $loopCount.user]"},{"id":"252bf0c0-7b20-11ed-a477-51c759d9aaff","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"name":"$customVariable[optIn, $loopCount.user]"},"effectList":{"list":[],"id":"2530abb0-7b20-11ed-a477-51c759d9aaff"},"presetListId":"9c1d3e20-c368-11ec-be40-ff01da2eede2"},{"id":"51406ce0-7b20-11ed-a477-51c759d9aaff","type":"firebot:customvariable","active":true,"ttl":0,"name":"hasRan","variableData":"true"},{"id":"7ee17c70-7b20-11ed-a477-51c759d9aaff","type":"firebot:remove-user-metadata","active":true,"username":"$customVariable[optIn, $loopCount.user]","key":"optIn"}],"id":"d2be4180-7b1f-11ed-a477-51c759d9aaff"},"loopMode":"array","conditionData":{"mode":"exclusive","conditions":[]},"arrayToIterate":"$customVariable[optIn]"}],"id":"6b43f7a0-7b2b-11ed-a477-51c759d9aaff"}}],"otherwiseEffectData":{"list":[],"id":"6b4249f0-7b2b-11ed-a477-51c759d9aaff"}},{"id":"733cf110-7b2a-11ed-a477-51c759d9aaff","type":"firebot:customvariable","active":true,"ttl":0,"name":"waitedForClip","variableData":"$math[$customVariable[waitedForClip]+1]"},{"id":"c419ee30-7b2a-11ed-a477-51c759d9aaff","type":"firebot:delay","active":true,"delay":"10"},{"id":"30de0eb0-7b2c-11ed-a477-51c759d9aaff","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"30e0cdd0-7b2c-11ed-a477-51c759d9aaff"},"presetListId":"290c2310-7b1e-11ed-a477-51c759d9aaff"}],"id":"5ab7e570-7b1e-11ed-a477-51c759d9aaff"}}],"id":"290c2311-7b1e-11ed-a477-51c759d9aaff"},"args":[],"sortTags":["85f0e950-9fd7-4f6d-a537-e7fc7fed3517","7b44937d-9910-4a10-aff4-c256ed137019"],"id":"290c2310-7b1e-11ed-a477-51c759d9aaff"},{"name":"playclip","effects":{"list":[{"id":"e0c04420-c366-11ec-84e7-5fc839a1e22f","type":"firebot:http-request","active":true,"headers":[],"options":{"useTwitchAuth":true,"putResponseInVariable":true,"variableName":"twitchclips","variableTtl":90},"url":"https://api.twitch.tv/helix/clips?broadcaster_id=$userId[$presetListArg[name]]&first=100","method":"GET"},{"id":"c73d5a10-c366-11ec-84e7-5fc839a1e22f","type":"firebot:customvariable","active":true,"ttl":90,"name":"twitchdata","variableData":"$arrayShuffle[$customVariable[twitchclips,data]]"},{"id":"39971510-7b31-11ed-a477-51c759d9aaff","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[twitchdata,0.id]"}]},"effectData":{"list":[{"id":"506e6720-7b31-11ed-a477-51c759d9aaff","type":"firebot:playvideo","active":true,"volume":5,"position":"Bottom Left","customCoords":{"top":0,"bottom":null,"left":0,"right":null},"enterAnimation":"fadeIn","exitAnimation":"fadeOut","inbetweenAnimation":"none","videoType":"Twitch Clip","youtube":"","twitchClipUrl":"$customVariable[twitchdata,0.id]","twitchClipUsername":"","reset":true,"wait":true,"width":"800","height":"450","length":"$customVariable[twitchdata,0.duration]","overlayInstance":null}],"id":"399c4530-7b31-11ed-a477-51c759d9aaff"}}],"otherwiseEffectData":{"list":[{"id":"a2a6ae80-7b31-11ed-a477-51c759d9aaff","type":"firebot:chat","active":true,"chatter":"Bot","message":"I was unable to find any clips to play"}],"id":"399a9780-7b31-11ed-a477-51c759d9aaff"}}],"id":"9c1d6530-c368-11ec-be40-ff01da2eede2"},"args":[{"name":"name"}],"sortTags":["85f0e950-9fd7-4f6d-a537-e7fc7fed3517","7b44937d-9910-4a10-aff4-c256ed137019"],"id":"9c1d3e20-c368-11ec-be40-ff01da2eede2"},{"args":[{"name":"target"}],"effects":{"id":"629bf720-95d3-11ed-85c3-ad0428a4a78a","list":[{"id":"629c1e30-95d3-11ed-85c3-ad0428a4a78a","name":"Name","ttl":10,"type":"firebot:customvariable","variableData":"$presetListArg[target]","active":true},{"chatter":"Bot","id":"629c1e31-95d3-11ed-85c3-ad0428a4a78a","message":"Go check out @$presetListArg[target]   https://twitch.tv/$presetListArg[target]  They  is  good  peeps.","type":"firebot:chat","active":true},{"id":"629c1e32-95d3-11ed-85c3-ad0428a4a78a","type":"firebot:toggle-command","active":true,"toggleType":"enable","commandType":"custom","commandId":"ceff2ac0-7b2c-11ed-a477-51c759d9aaff"},{"id":"629c1e33-95d3-11ed-85c3-ad0428a4a78a","type":"firebot:chat","active":true,"chatter":"Bot","message":"If you Would like to share a clip with us type the word yes"},{"id":"b8147560-95d3-11ed-85c3-ad0428a4a78a","type":"firebot:shoutout","active":true,"shoutoutText":"They are an amazing streamer. Go give them a follow!","showLastGame":true,"bgColor1":"#046caa","bgColor2":"#0889d6","textColor":"#ffffff","duration":8,"position":"Middle Right","scale":1,"lastGameText":"Last seen streaming","customCoords":{"top":0,"bottom":null,"left":0,"right":null},"username":"$presetListArg[target]"},{"id":"629c1e35-95d3-11ed-85c3-ad0428a4a78a","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"629c1e36-95d3-11ed-85c3-ad0428a4a78a"},"presetListId":"290c2310-7b1e-11ed-a477-51c759d9aaff"}],"queue":"ea0fd690-673b-11eb-97c9-49c42f3c2f3e","queueDuration":30},"id":"629c4540-95d3-11ed-a237-4bc45b548f61","name":"Shout-Out","sortTags":["7b44937d-9910-4a10-aff4-c256ed137019"]}],"timers":[],"viewerRoles":[],"quickActions":[]},"requireCurrency":false,"importQuestions":[]}