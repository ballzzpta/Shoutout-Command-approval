{"name":"Shout out command with video and auto-shoutout support","description":"Allows for shoutout based on !so trigger, gives target ability to chose whether or not a clip is played and stores their response for future streams. Added ability to add users to an auto shoutout role that also respects the video request.","version":4,"author":"ballzzpta","components":{"commands":[{"active":false,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"cbf44c90-f0dc-11ed-8047-911e9d639389","list":[{"id":"013508d0-f11a-11ed-b7e5-ed11123b2dfa","type":"firebot:run-effect-list","active":false,"listType":"preset","presetListArgs":{"name":"$username"},"effectList":{"list":[],"id":"01372bb0-f11a-11ed-b7e5-ed11123b2dfa"},"presetListId":"9c1d3e20-c368-11ec-be40-ff01da2eede2"},{"id":"f6c5a970-f120-11ed-b7e5-ed11123b2dfa","type":"firebot:chat","active":false,"chatter":"Bot","message":"$username, Thank you for sharing a clip"},{"id":"54f188a0-d0d9-11ee-925c-ebd2866f86d0","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!yes"}]},"effectData":{"list":[{"id":"7ff83e40-d0d9-11ee-925c-ebd2866f86d0","type":"firebot:set-user-metadata","active":true,"username":"$useridname","key":"soClips","data":"{\n  \"soClips\":{\n    \"allow\":\"yes\"\n  }\n}"},{"id":"66c19f70-d0d9-11ee-925c-ebd2866f86d0","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"name":"$username"},"effectList":{"list":[],"id":"01372bb0-f11a-11ed-b7e5-ed11123b2dfa"},"presetListId":"9c1d3e20-c368-11ec-be40-ff01da2eede2"},{"id":"66c19f71-d0d9-11ee-925c-ebd2866f86d0","type":"firebot:chat","active":true,"chatter":"Bot","message":"$username, Thank you for sharing a clip with the community. You will not be asked again. If at any point you wish to stop sharing clips with the community, simply type !optout."}],"id":"54f4e400-d0d9-11ee-925c-ebd2866f86d0"},"label":"!yes"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!no"}]},"effectData":{"list":[{"id":"c96ec120-d0de-11ee-8762-f9ba06f03bc8","type":"firebot:set-user-metadata","active":true,"username":"$useridname","key":"soClips","data":"{\n  \"soClips\":{\n    \"allow\":\"no\"\n  }\n}"},{"id":"1cd1a5d0-d0df-11ee-8762-f9ba06f03bc8","type":"firebot:chat","active":true,"chatter":"Bot","message":"$username, Thank you for the reply. You will not be asked again. If at any point, you wish to share clips with the community in the future, simply type !optin."}],"id":"b3877460-d0de-11ee-8762-f9ba06f03bc8"},"label":"!no"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!optout"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$userMetadata[$useridname, soClips, null, soClips.allow]","rightSideValue":"yes"}]},"effectData":{"list":[{"id":"c96ec120-d0de-11ee-8762-f9ba06f03bc8","type":"firebot:set-user-metadata","active":true,"username":"$useridname","key":"soClips","data":"no","propertyPath":"soClips.allow"},{"id":"c96ec121-d0de-11ee-8762-f9ba06f03bc8","type":"firebot:chat","active":true,"chatter":"Bot","message":"$username, you will no longer be asked to share any clips with the community. If at any point, you wish to share clips with the community in the future, simply type !optin."}],"id":"bcd8dc70-d0de-11ee-8762-f9ba06f03bc8"},"label":"!optout"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!optin"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$userMetadata[$useridname, soClips, null, soClips.allow]","rightSideValue":"no"}]},"effectData":{"list":[{"id":"b20fac00-d0df-11ee-8762-f9ba06f03bc8","type":"firebot:set-user-metadata","active":true,"username":"$useridname","key":"soClips","data":"yes","propertyPath":"soClips.allow"},{"id":"b20fac01-d0df-11ee-8762-f9ba06f03bc8","type":"firebot:chat","active":true,"chatter":"Bot","message":"$username, thank you for allowing me to share your clips with the community. You will no longer be asked to share any clips with the community. If at any point  you wish to stop sharing clips with the community in the future, simply type !optout."}],"id":"c239a960-d0de-11ee-8762-f9ba06f03bc8"},"label":"!optin"},{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!asoadd"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!asosub"}]},"effectData":{"list":[{"id":"4216fe50-d0e7-11ee-8762-f9ba06f03bc8","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!asoadd"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$arg[1]","rightSideValue":""}]},"effectData":{"list":[{"id":"c5614b00-d0e5-11ee-8762-f9ba06f03bc8","type":"firebot:update-roles","active":true,"viewerType":"custom","addRoleId":"ef0829e0-d0e2-11ee-8762-f9ba06f03bc8","customViewer":"$target","effectLabel":"add to auto shout out"},{"id":"b327ce90-d0e6-11ee-8762-f9ba06f03bc8","type":"firebot:chat","active":true,"chatter":"Bot","message":"$target has been added to the auto shout out feature."}],"id":"6f359440-d0e3-11ee-8762-f9ba06f03bc8"},"label":"!asoadd"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!asosub"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$arg[1]","rightSideValue":""}]},"effectData":{"list":[{"id":"f4355c50-d0e5-11ee-8762-f9ba06f03bc8","type":"firebot:update-roles","active":true,"viewerType":"custom","customViewer":"$target","effectLabel":"remove from auto shout out","removeRoleId":"ef0829e0-d0e2-11ee-8762-f9ba06f03bc8"},{"id":"c9a519c0-d0e6-11ee-8762-f9ba06f03bc8","type":"firebot:chat","active":true,"chatter":"Bot","message":"$target has been removed from the auto shout out feature."}],"id":"edbc4190-d0e5-11ee-8762-f9ba06f03bc8"},"label":"!asosub"}],"otherwiseEffectData":{"list":[{"id":"6ffcb800-d0e7-11ee-8762-f9ba06f03bc8","type":"firebot:chat","active":true,"chatter":"Bot","message":"$username, please supply a @target to be able to add or remove from the auto shoutout event."}],"id":"6f345bc0-d0e3-11ee-8762-f9ba06f03bc8"}}],"id":"06487a20-d0e7-11ee-8762-f9ba06f03bc8"},"label":"!asoadd or !asosub"}],"otherwiseEffectData":{"list":[],"id":"54f38470-d0d9-11ee-925c-ebd2866f86d0"},"otherwiseLabel":""}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}"},"aliases":["!no","!optout","!optin","!asoadd","!asosub"],"sortTags":[],"treatQuotedTextAsSingleArg":false,"trigger":"!yes","hidden":true,"id":"cbf44c92-f0dc-11ed-8047-911e9d639389","createdBy":"c_k_y","createdAt":"2022-12-13T14:26:29-07:00","count":52,"type":"custom","lastEditBy":"System","lastEditAt":"2024-02-21T13:35:58.499-05:00","ignoreBot":true,"ignoreStreamer":false},{"active":true,"simple":false,"sendCooldownMessage":true,"cooldown":{},"effects":{"id":"4667a057-9b4a-47b1-aea2-73592784d4f3","list":[],"queue":"8deee2b0-8b36-11eb-9f2f-1d903ae5c251"},"restrictionData":{"restrictions":[{"id":"0f9df5f0-88c4-11eb-84f2-ab65062f9663","type":"firebot:permissions","mode":"roles","roleIds":["mod","broadcaster"]}],"mode":"all","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}"},"ignoreBot":false,"sortTags":["00339b33-d317-4960-aecd-cfd810770368"],"trigger":"!so","description":"Shout out","subCommands":[{"active":true,"id":"19632111-e062-4397-9f9b-b05d59f5f475","type":"Username","arg":"@\\w+","regex":true,"usage":"@username","fallback":false,"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}"},"effects":{"list":[{"id":"2fb87b40-95d7-11ed-a369-a58982addc0b","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"target":"$target"},"effectList":{"list":[],"id":"2fbb3a60-95d7-11ed-a369-a58982addc0b"},"presetListId":"629c4540-95d3-11ed-a237-4bc45b548f61"}],"id":"ee9127f0-88c4-11eb-84f2-ab65062f9663","queue":"6a10ad90-88b8-11eb-84f2-ab65062f9663"}}],"id":"f62ddb20-88c4-11eb-84f2-ab65062f9663","createdBy":"ballzzpta","createdAt":"2021-03-19T11:08:29-04:00","count":35,"lastEditBy":"ballzzpta","lastEditAt":"2024-02-21T13:30:09.368-05:00","cooldownMessage":"This command is still on cooldown for: {timeLeft}","aliases":["!asoadd","!asosub"],"treatQuotedTextAsSingleArg":false,"fallbackSubcommand":{"active":true,"id":"fallback-subcommand","type":"Fallback","arg":".+","regex":true,"usage":"[anything]","fallback":true,"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"useCustomFailMessage":false,"failMessage":"Sorry, you cannot use this command because: {reason}"},"effects":{"list":[{"id":"dd9a14c0-d0d8-11ee-925c-ebd2866f86d0","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"target":"$lowercase[$arg[1]]"},"effectList":{"list":[],"id":"dd9bc270-d0d8-11ee-925c-ebd2866f86d0"},"presetListId":"629c4540-95d3-11ed-a237-4bc45b548f61"}],"id":"c1cdfe00-d0d8-11ee-925c-ebd2866f86d0"}},"type":"custom"}],"counters":[],"currencies":[],"effectQueues":[],"events":[{"name":"shoutOut","active":true,"cached":true,"sortTags":[],"eventId":"custom-variable-expired","sourceId":"firebot","effects":{"list":[{"id":"44410930-f11a-11ed-b7e5-ed11123b2dfa","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"1ae4ed40-a421-11ed-8510-a330c99a3ab2"},{"id":"53e82580-f11a-11ed-b7e5-ed11123b2dfa","type":"firebot:toggle-command","active":true,"toggleType":"disable","commandType":"custom","commandId":"cbf44c92-f0dc-11ed-8047-911e9d639389"},{"id":"75d3ef90-f11e-11ed-b7e5-ed11123b2dfa","type":"firebot:chat","active":true,"chatter":"Bot","message":"Be sure to give them a follow @twitch.tv/$expiredCustomVariableData"}],"id":"30503540-f11a-11ed-b7e5-ed11123b2dfa"},"filterData":{"mode":"exclusive","filters":[{"type":"firebot:custom-variable-name","comparisonType":"is","value":"shoutOut"}]},"id":"609821e0-f11a-11ed-b7e5-ed11123b2dfa"},{"name":"Auto ShoutOuts","active":true,"cached":true,"sortTags":[],"eventId":"viewer-arrived","sourceId":"twitch","effects":{"list":[{"id":"83988390-d0e6-11ee-8762-f9ba06f03bc8","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"target":"$useridname"},"effectList":{"list":[],"id":"839a7f60-d0e6-11ee-8762-f9ba06f03bc8"},"presetListId":"629c4540-95d3-11ed-a237-4bc45b548f61"}],"id":"f8973730-d0e2-11ee-8762-f9ba06f03bc8"},"filterData":{"mode":"exclusive","filters":[{"type":"firebot:viewerroles","comparisonType":"include","value":"ef0829e0-d0e2-11ee-8762-f9ba06f03bc8"}]},"id":"14aed5e0-d0e3-11ee-8762-f9ba06f03bc8"}],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"playclip","effects":{"list":[{"id":"e0c04420-c366-11ec-84e7-5fc839a1e22f","type":"firebot:http-request","active":true,"headers":[],"options":{"useTwitchAuth":true,"putResponseInVariable":true,"variableName":"twitchclips","variableTtl":90},"url":"https://api.twitch.tv/helix/clips?broadcaster_id=$userId[$presetListArg[name]]&first=100","method":"GET"},{"id":"c73d5a10-c366-11ec-84e7-5fc839a1e22f","type":"firebot:customvariable","active":true,"ttl":90,"name":"twitchdata","variableData":"$arrayShuffle[$customVariable[twitchclips,data]]"},{"id":"39971510-7b31-11ed-a477-51c759d9aaff","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[twitchdata,0.id]"}]},"effectData":{"list":[{"id":"506e6720-7b31-11ed-a477-51c759d9aaff","type":"firebot:playvideo","active":true,"volume":5,"position":"Bottom Left","customCoords":{"top":0,"bottom":null,"left":0,"right":null},"enterAnimation":"fadeIn","exitAnimation":"fadeOut","inbetweenAnimation":"none","videoType":"Twitch Clip","youtube":"","twitchClipUrl":"$customVariable[twitchdata,0.id]","twitchClipUsername":"","reset":true,"wait":true,"width":"800","height":"450","length":"$customVariable[twitchdata,0.duration]","overlayInstance":null}],"id":"399c4530-7b31-11ed-a477-51c759d9aaff"}}],"otherwiseEffectData":{"list":[{"id":"a2a6ae80-7b31-11ed-a477-51c759d9aaff","type":"firebot:chat","active":true,"chatter":"Bot","message":"I was unable to find any clips to play"}],"id":"399a9780-7b31-11ed-a477-51c759d9aaff"}}],"id":"9c1d6530-c368-11ec-be40-ff01da2eede2"},"args":[{"name":"name"}],"sortTags":["85f0e950-9fd7-4f6d-a537-e7fc7fed3517","7b44937d-9910-4a10-aff4-c256ed137019"],"id":"9c1d3e20-c368-11ec-be40-ff01da2eede2"},{"args":[{"name":"target"}],"effects":{"id":"629bf720-95d3-11ed-85c3-ad0428a4a78a","list":[{"id":"83a683c0-d0da-11ee-925c-ebd2866f86d0","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$userMetadata[$#target, soClips, null, soClips.allow]","rightSideValue":"yes"}]},"effectData":{"list":[{"chatter":"Bot","id":"c9578c71-d0da-11ee-925c-ebd2866f86d0","message":"Go check out @$#target https://twitch.tv/$#target They are an awesome person!","type":"firebot:chat","active":true},{"id":"c9578c74-d0da-11ee-925c-ebd2866f86d0","type":"firebot:shoutout","active":true,"shoutoutText":"They are an amazing streamer. Go give them a follow!","showLastGame":false,"bgColor1":"#046caa","bgColor2":"#0889d6","textColor":"#ffffff","duration":8,"position":"Top Right","scale":1,"lastGameText":"Last seen streaming","customCoords":{"top":0,"bottom":null,"left":0,"right":null},"username":"$presetListArg[target]"},{"id":"4edbb1a0-d0db-11ee-925c-ebd2866f86d0","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"name":"$#target"},"effectList":{"list":[],"id":"01372bb0-f11a-11ed-b7e5-ed11123b2dfa"},"presetListId":"9c1d3e20-c368-11ec-be40-ff01da2eede2"}],"id":"83a99100-d0da-11ee-925c-ebd2866f86d0"},"label":"yes in past SO"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$userMetadata[$#target, soClips, null, soClips.allow]","rightSideValue":"no"}]},"effectData":{"list":[{"chatter":"Bot","id":"ec5167f1-d0da-11ee-925c-ebd2866f86d0","message":"Go check out @$#target https://twitch.tv/$#target They are an awesome person!","type":"firebot:chat","active":true},{"id":"ec5167f4-d0da-11ee-925c-ebd2866f86d0","type":"firebot:shoutout","active":true,"shoutoutText":"They are an amazing streamer. Go give them a follow!","showLastGame":false,"bgColor1":"#046caa","bgColor2":"#0889d6","textColor":"#ffffff","duration":8,"position":"Top Right","scale":1,"lastGameText":"Last seen streaming","customCoords":{"top":0,"bottom":null,"left":0,"right":null},"username":"$presetListArg[target]"}],"id":"ada20af0-d0da-11ee-925c-ebd2866f86d0"},"label":"no in past SO"}],"otherwiseEffectData":{"list":[{"id":"b8eb9980-d0da-11ee-925c-ebd2866f86d0","type":"firebot:update-roles","active":true,"viewerType":"custom","addRoleId":"1ae4ed40-a421-11ed-8510-a330c99a3ab2","customViewer":"$#target"},{"chatter":"Bot","id":"b8eb9981-d0da-11ee-925c-ebd2866f86d0","message":"Go check out @$#target https://twitch.tv/$#target They are an awesome person!","type":"firebot:chat","active":true},{"id":"b8eb9982-d0da-11ee-925c-ebd2866f86d0","type":"firebot:toggle-command","active":true,"toggleType":"enable","commandType":"custom","commandId":"cbf44c92-f0dc-11ed-8047-911e9d639389"},{"id":"b8eb9983-d0da-11ee-925c-ebd2866f86d0","type":"firebot:chat","active":true,"chatter":"Bot","message":"$#target, Would like to share a clip with us? Please type \"yes\" or \"no\""},{"id":"b8eb9984-d0da-11ee-925c-ebd2866f86d0","type":"firebot:shoutout","active":true,"shoutoutText":"They are an amazing streamer. Go give them a follow!","showLastGame":false,"bgColor1":"#046caa","bgColor2":"#0889d6","textColor":"#ffffff","duration":8,"position":"Top Right","scale":1,"lastGameText":"Last seen streaming","customCoords":{"top":0,"bottom":null,"left":0,"right":null},"username":"$presetListArg[target]"},{"id":"b8eb9985-d0da-11ee-925c-ebd2866f86d0","type":"firebot:customvariable","active":true,"ttl":30,"name":"shoutOut","variableData":"$#target"}],"id":"83a87f90-d0da-11ee-925c-ebd2866f86d0"}}],"queue":"ea0fd690-673b-11eb-97c9-49c42f3c2f3e","queueDuration":30},"id":"629c4540-95d3-11ed-a237-4bc45b548f61","name":"Shout-Out","sortTags":["7b44937d-9910-4a10-aff4-c256ed137019"]}],"timers":[],"viewerRoles":[{"name":"optIn/optout Role","viewers":[],"id":"1ae4ed40-a421-11ed-8510-a330c99a3ab2"},{"name":"autoShoutOut","viewers":["BallzzPTA"],"id":"ef0829e0-d0e2-11ee-8762-f9ba06f03bc8"}],"quickActions":[]},"requireCurrency":false,"importQuestions":[]}